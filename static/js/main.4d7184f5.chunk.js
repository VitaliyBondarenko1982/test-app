(this["webpackJsonpmerehead-test-task"]=this["webpackJsonpmerehead-test-task"]||[]).push([[0],{42:function(e,t,a){e.exports=a(78)},51:function(e,t,a){},53:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),l=a(8),i=a(11),u=a(14),o=a(39),m=a(40),d=a(41),E=a(18),f=a(2),p={users:[],loading:!1,editing:!1,newUser:{name:"",surname:"",desc:""},editUser:{id:0,name:"",surname:"",desc:""}},b=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_USERS_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,users:t.users});case"START_LOADING":return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case"START_EDITING":return Object(f.a)(Object(f.a)({},e),{},{editing:!0});case"FINISH_EDITING":return Object(f.a)(Object(f.a)({},e),{},{editing:!1});case"SET_NEW_USER":return Object(f.a)(Object(f.a)({},e),{},{newUser:Object(f.a)(Object(f.a)({},e.newUser),{},Object(E.a)({},t.name,t.value))});case"CREATE_NEW_USER":return Object(f.a)(Object(f.a)({},e),{},{users:[].concat(Object(d.a)(e.users),[t.user]),loading:!1});case"SET_EDITING_USER":return Object(f.a)(Object(f.a)({},e),{},{editUser:Object(f.a)(Object(f.a)({},e.editUser),{},Object(E.a)({},t.name,t.value))});case"SET_EDITING_USER_ID":return Object(f.a)(Object(f.a)({},e),{},{editUser:Object(f.a)(Object(f.a)({},e.editUser),{},{id:t.id})});case"UPDATE_EDITED_USER":return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id===t.user.id?Object(f.a)({},t.user):Object(f.a)({},e)}))});default:return e}}),Object(m.composeWithDevTools)(Object(u.applyMiddleware)(o.a))),v=a(3),h=(a(51),function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(i.b,{to:"/",className:"brand-logo"},"Merehead"),r.a.createElement("ul",{id:"nav-mobile",className:"right"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Users")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/create-user"},"Create user")))))}),N=a(15),O=a(12),g=a.n(O),j=function(e){var t=e.label,a=e.id,n=e.name,c=e.placeholder,s=e.onChange,l=e.value,i=e.isValid;return r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",name:n,placeholder:c,className:"yellow-input",id:a,onChange:s,value:l}),r.a.createElement("label",{htmlFor:a},t),r.a.createElement("span",{className:g()("helper-text",{hidden:i})},"Field ".concat(n," is required")))},U=(a(53),function(e){var t=e.onClick,a=e.className,n=e.children;return r.a.createElement("button",{type:"button",className:a,onClick:t},n)}),w=function(e){var t=e.newUser,a=e.onClickHandler,c=e.onChangeHandler,s=e.title,l=e.buttonText,i=Object(n.useState)(!0),u=Object(N.a)(i,2),o=u[0],m=u[1],d=Object(n.useState)(!0),E=Object(N.a)(d,2),f=E[0],p=E[1],b=Object(n.useState)(!0),v=Object(N.a)(b,2),h=v[0],O=v[1];return r.a.createElement("form",{className:"col s6 offset-s3"},r.a.createElement("h2",null,s),r.a.createElement("div",{className:"card blue darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("div",null,r.a.createElement(j,{label:"Name",id:"name",name:"name",placeholder:"Enter name",value:t.name,onChange:c,isValid:o}),r.a.createElement(j,{label:"Surname",id:"surname",name:"surname",placeholder:"Enter surname",value:t.surname,onChange:c,isValid:f}),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"desc",name:"desc",placeholder:"Enter description",className:"yellow-input materialize-textarea",value:t.desc,onChange:c}),r.a.createElement("label",{htmlFor:"desc"},"Description"),r.a.createElement("span",{className:g()("helper-text",{hidden:h})},"Field description is required")))),r.a.createElement("div",{className:"card-action"},r.a.createElement(U,{onClick:function(e){return e.preventDefault(),t.name.length?t.surname.length?t.desc.length?void a():(O(!1),void setInterval((function(){O(!0)}),2e3)):(p(!1),void setInterval((function(){p(!0)}),2e3)):(m(!1),void setInterval((function(){m(!0)}),2e3))},className:"btn yellow darken-4"},l))))},S=a(10),I=a.n(S),_=a(19),T=a(20),k=a.n(T),y=function(e){return{type:"LOAD_USERS_SUCCESS",users:e}},C=function(e,t){return{type:"SET_NEW_USER",value:e,name:t}},D=function(){return{type:"FINISH_EDITING"}},x=function(e,t){return{type:"SET_EDITING_USER",value:e,name:t}},R=function(e){return{type:"SET_EDITING_USER_ID",id:e}},A=(a(72),{setEditingUser:x,setEditedUser:function(e){return function(){var t=Object(_.a)(I.a.mark((function t(a,n){var r,c,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.editUser,a({type:"START_LOADING"}),t.prev=2,t.next=5,k.a.put("http://77.120.241.80:8911/api/user/".concat(e),{name:c.name,surname:c.surname,desc:c.desc});case 5:s=t.sent,a({type:"UPDATE_EDITED_USER",user:s.data}),a({type:"FINISH_EDITING"}),a(x("","name")),a(x("","surname")),a(x("","desc")),a(R(0)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,a){return t.apply(this,arguments)}}()},setEditingUserId:R}),G=Object(l.b)((function(e){return{editUser:e.editUser}}),A)((function(e){var t=e.editUser,a=e.setEditingUser,c=e.setEditedUser,s=e.setEditingUserId;Object(n.useEffect)((function(){return function(){a("","name"),a("","surname"),a("","desc"),s(0)}}),[]);return r.a.createElement("div",{className:"row edit-user"},r.a.createElement(w,{newUser:t,onClickHandler:function(){c(t.id)},onChangeHandler:function(e){var t=e.target,n=t.value,r=t.name;switch(r){case"name":case"surname":case"desc":a(n,r)}},title:"Edit user",buttonText:"Save user"}))})),H=(a(73),{finishEditing:D}),F=Object(l.b)((function(e){return{editing:e.editing}}),H)((function(e){var t=e.children,a=e.editing,n=e.finishEditing;return r.a.createElement("div",{className:"layout"},r.a.createElement(h,null),r.a.createElement("div",{className:"main"},t,a?r.a.createElement(G,null):null,a?r.a.createElement("div",{className:"overlay",role:"menu",tabIndex:0,onClick:function(){n()}}):null))})),L={setNewUser:C,postNewUser:function(){return function(){var e=Object(_.a)(I.a.mark((function e(t,a){var n,r,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.newUser,t({type:"START_LOADING"}),e.prev=2,e.next=5,k.a.post("http://77.120.241.80:8911/api/users",r);case 5:c=e.sent,t({type:"CREATE_NEW_USER",user:c.data}),t(C("","name")),t(C("","surname")),t(C("","desc")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()}},W=Object(l.b)((function(e){return{newUser:e.newUser}}),L)((function(e){var t=e.setNewUser,a=e.newUser,c=e.postNewUser,s=Object(v.f)();Object(n.useEffect)((function(){return function(){t("","name"),t("","surname"),t("","desc")}}),[t]);return r.a.createElement("div",{className:"row"},r.a.createElement(w,{newUser:a,onClickHandler:function(){c(),setTimeout((function(){s.push("/")}),500)},onChangeHandler:function(e){var a=e.target,n=a.value,r=a.name;switch(r){case"name":case"surname":case"desc":t(n,r)}},title:"Create new user",buttonText:"Create user"}))})),M=a(80),V={deleteUser:function(e){return function(){var t=Object(_.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.delete("http://77.120.241.80:8911/api/user/".concat(e));case 3:n=t.sent,a(y(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},startEditing:function(){return{type:"START_EDITING"}},setEditingUser:x,setEditingUserId:R},q=Object(l.b)((function(e){return{editing:e.editing}}),V)((function(e){var t=e.name,a=e.surname,n=e.desc,c=e.id,s=e.deleteUser,l=e.startEditing,i=e.setEditingUser,u=e.setEditingUserId;return r.a.createElement("div",{className:"col s12 m4"},r.a.createElement("div",{className:"card blue-grey darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("span",{className:"card-title"},t),r.a.createElement("span",{className:"card-title"},a),r.a.createElement("p",null,n)),r.a.createElement("div",{className:"card-action"},r.a.createElement(U,{onClick:function(){l(),u(c),i(t,"name"),i(a,"surname"),i(n,"desc")},className:"btn grey lighten-1 black-text"},"Edit"),r.a.createElement(U,{onClick:function(){s(c)},className:"btn yellow darken-4"},"Delete"))))})),J=(a(74),a(75),function(){return r.a.createElement("div",{className:"loader__wrapper"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",null),r.a.createElement("div",null)))}),P={loadUsers:function(){return function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.prev=1,e.next=4,k.a.get("http://77.120.241.80:8911/api/users");case 4:a=e.sent,n=a.data,t(y(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}},z=Object(l.b)((function(e){return{users:e.users,loading:e.loading}}),P)((function(e){var t=e.loadUsers,a=e.users,c=e.loading,s=Object(n.useState)(1),l=Object(N.a)(s,2),i=l[0],u=l[1];Object(n.useEffect)((function(){t()}),[t]);for(var o=[],m=Math.ceil(a.length/5),d=1;d<=m;d+=1)o.push(d);var E=a.slice(5*(i-1),5*i);return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(J,null):null,r.a.createElement("div",{className:"row users"},E.map((function(e){return r.a.createElement(q,{key:e.id,id:e.id,name:e.name,surname:e.surname,desc:e.desc})}))),r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:g()(1===i?"disabled":"waves-effect"),onClick:function(){1!==i&&u(i-1)}},r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"chevron_left"))),o.map((function(e){return r.a.createElement("li",{className:g()(i===e?"active":"waves-effect"),key:Object(M.a)(),onClick:function(){return function(e){u(e)}(e)}},r.a.createElement("a",{href:"#!"},e))})),r.a.createElement("li",{className:g()(i===m?"disabled":"waves-effect"),onClick:function(){i!==m&&u(i+1)}},r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"chevron_right")))))})),B=(a(76),a(77),function(){return r.a.createElement("div",{className:"app"},r.a.createElement(F,null,r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",component:z,exact:!0}),r.a.createElement(v.a,{path:"/create-user",component:W}))))});s.a.render(r.a.createElement(l.a,{store:b},r.a.createElement(i.a,null,r.a.createElement(B,null))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.4d7184f5.chunk.js.map